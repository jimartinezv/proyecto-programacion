<ui:composition template="WEB-INF/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">


    <ui:define name="title">
        Registrar usuario
    </ui:define>



    <ui:define name="content">

        <div id="div_registro_usuario">
            <p:panel header="Registar Usuario." id="registro_u" styleClass="panel-registro"  >
                <h:form>
                    <h:panelGrid columns="3" cellpadding="5" styleClass="cajones">
                        <p:outputLabel value="Código" for="codigo_u" />
                        <p:inputText id="codigo_u" value="#{usuarioBean.usuario.documento}" required="true"/>
                        <p:message for="codigo_u"/>

                        <p:outputLabel value="Nombre" for="nombre_u"/>
                        <p:inputText id="nombre_u" value="#{usuarioBean.usuario.nombre}" required="true" validatorMessage="El nombre debe tener
                                al menos 2 caracteres y maximo 55">
                            <f:validateLength minimum="2" maximum="55"/>
                        </p:inputText>
                        <p:message for="nombre_u"/>


                        <p:outputLabel value="Email" for="email_u"/>
                        <p:inputText id="email_u" value="#{usuarioBean.usuario.email}" required="true"/>
                        <p:message for="email_u"/>

                        <p:outputLabel value="Nombre de usuario" for="username_u"/>
                        <p:inputText id="username_u" value="#{usuarioBean.usuario.userName}" required="true"/>
                        <p:message for="username_u"/>

                        <p:outputLabel value="Direccion" for="direccion_u"/>
                        <p:inputText id="direccion_u" value="#{usuarioBean.usuario.direccion}" required="true"/>
                        <p:message for="direccion_u"/>

                        <p:outputLabel value="Contraseña" for="contrasena_u"/>
                        <p:password id="contrasena_u" value="#{usuarioBean.usuario.contrasena}" required="true"/>
                        <p:message for="contrasena_u"/>

                        <p:outputLabel value="Fecha Nacimiento" for="born_u"/>
                        <p:datePicker id="born_u" value="#{usuarioBean.usuario.fechaNacimiento}" required="true"/>
                        <p:message for="born_u"/>



                        <p:outputLabel for="depto_u" value="Departamento"/>
                        <p:selectOneMenu id="depto_u" value="#{usuarioBean.indexDepto}">
                            <f:selectItem itemLabel="Seleccione Departamento" itemValue=""/>
                            <f:selectItems value="#{usuarioBean.listaDepartamentos}"/>
                            <f:ajax event="change" render="ciudad_u" execute="depto_u" listener="#{usuarioBean.getListaCiudadesporDepartamento1}"/>

                        </p:selectOneMenu>
                        <br></br>
                        <p:outputLabel for="ciudad_u" value="Ciudad"/>
                        <p:selectOneMenu id="ciudad_u" value="#{usuarioBean.usuario.ciudad}" converter="#{ciudadConverter}">
                            <f:selectItem itemLabel="Seleccione ciudad" noSelectionOption="true"/>
                            <f:selectItems value="#{usuarioBean.ciudads}" var="ciudad" itemLabel="#{ciudad.nombre}"/>
                        </p:selectOneMenu>


                    </h:panelGrid>
                    <p:growl showDetail="true" for="msj-bean"/>
                    <p:commandButton value="Registrar usuario" action="#{usuarioBean.registrarUsuario}" update="@form" icon="pi pi-user-plus"/>
                </h:form>
            </p:panel>
        </div>


    </ui:define>

</ui:composition>